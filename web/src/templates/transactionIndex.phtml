<?php
include "header.phtml";
include "session.phtml";
?>

<p id="logout"><a href="/MyUser/Logout">Log Out</a></p>
<h1><?php echo $account->getName() . " : $" . $account->getBalance() ?></h1>
<p><a href="/BankAccount/EditName/<?php echo $account->getId()?>">Edit Name</a></p>
<br>
<h3>Transactions for <?php echo $account->getName() ?></h3>
<table>
    <thead>
        <th>Amount</th>
        <th>Type</th>
        <th>Date</th>
    </thead>
    <tbody>
        <?php foreach ($transactions as $transaction) {
            error_log(print_r($transaction));?>
            <tr>
                <td>1<?php echo $transaction->getAmount() ?></td>
                <td>2<?php echo $transaction->getType() ?></td>
                <td>3<?php echo $transaction->getDate() ?></td>
            </tr>
        <?php } ?>
    </tbody>
</table>
<br>
<h3>Add transaction:</h3>
<form action="/Transaction/Create" method="POST">
    Amount: $<input type="number" name="amount" placeholder="100.00" step="0.01"><br>
    Type:<br>
    &nbsp;<input type="radio" name="type" value="Deposit" checked> Deposit<br>
    &nbsp;<input type="radio" name="type" value="Withdrawal"> Withdrawal<br>
    <input type="submit">
</form>

<a href="/BankAccount/">Back</a>

<?php
    if ($error) {
       echo "<p class='error'>" . $error . "</p>";
    }
    include "footer.phtml"
?>
